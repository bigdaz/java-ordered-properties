name: "Build Gradle project"
on: [push, workflow_dispatch]

jobs:
  build:
     name: Building on Java ${{ matrix.java }}
     runs-on: ubuntu-latest
     strategy:
        matrix:
          java: [ 8, 9, 10, 11, 12, 13, 14, 15, 16, 17 ]
     steps:
       - name: Check out project
         uses: actions/checkout@v2
       - name: Set up JDK ${{ matrix.java }}
         uses: actions/setup-java@v1
         with:
           java-version: ${{ matrix.java }}
       - name: Setup Gradle
         uses: gradle/gradle-build-action@v2
       - name: Build with Gradle
         run: ./gradlew clean build
         env:
           GRADLE_ENTERPRISE_ACCESS_KEY: ${{ secrets.GE_ACCESS_TOKEN }}
